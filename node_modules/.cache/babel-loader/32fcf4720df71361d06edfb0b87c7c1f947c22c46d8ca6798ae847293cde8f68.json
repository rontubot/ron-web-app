{"ast":null,"code":"import _objectSpread from\"/workspaces/ron-web-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import{useAuth}from'../context/authcontext';import'./login.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Login=()=>{const[isLogin,setIsLogin]=useState(true);const[formData,setFormData]=useState({username:'',password:'',email:''});const[error,setError]=useState('');const[loading,setLoading]=useState(false);const{login,register}=useAuth();const handleInputChange=e=>{setFormData(_objectSpread(_objectSpread({},formData),{},{[e.target.name]:e.target.value}));setError('');};const handleSubmit=async e=>{e.preventDefault();setLoading(true);setError('');try{let result;if(isLogin){result=await login(formData.username,formData.password);}else{result=await register(formData.username,formData.password,formData.email);}if(!result.success){setError(result.error);}}catch(err){setError('Error de conexión. Intenta de nuevo.');}finally{setLoading(false);}};const toggleMode=()=>{setIsLogin(!isLogin);setError('');setFormData({username:'',password:'',email:''});};return/*#__PURE__*/_jsx(\"div\",{className:\"login-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"login-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"login-header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\uD83E\\uDD16 Ron Assistant\"}),/*#__PURE__*/_jsx(\"h2\",{children:isLogin?'Iniciar Sesión':'Crear Cuenta'})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"login-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"username\",children:\"Usuario\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"username\",name:\"username\",value:formData.username,onChange:handleInputChange,required:true,placeholder:\"Ingresa tu usuario\"})]}),!isLogin&&/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"email\",name:\"email\",value:formData.email,onChange:handleInputChange,required:true,placeholder:\"tu@email.com\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Contrase\\xF1a\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password\",name:\"password\",value:formData.password,onChange:handleInputChange,required:true,placeholder:\"Ingresa tu contrase\\xF1a\"})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:error}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"login-button\",disabled:loading,children:loading?'Cargando...':isLogin?'Iniciar Sesión':'Crear Cuenta'})]}),/*#__PURE__*/_jsx(\"div\",{className:\"login-footer\",children:/*#__PURE__*/_jsxs(\"p\",{children:[isLogin?'¿No tienes cuenta?':'¿Ya tienes cuenta?',/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"toggle-button\",onClick:toggleMode,children:isLogin?'Crear una':'Iniciar sesión'})]})})]})});};export default Login;","map":{"version":3,"names":["React","useState","useAuth","jsx","_jsx","jsxs","_jsxs","Login","isLogin","setIsLogin","formData","setFormData","username","password","email","error","setError","loading","setLoading","login","register","handleInputChange","e","_objectSpread","target","name","value","handleSubmit","preventDefault","result","success","err","toggleMode","className","children","onSubmit","htmlFor","type","id","onChange","required","placeholder","disabled","onClick"],"sources":["/workspaces/ron-web-app/src/components/login.jsx"],"sourcesContent":["import React, { useState } from 'react';  \r\nimport { useAuth } from '../context/authcontext';  \r\nimport './login.css';  \r\n  \r\nconst Login = () => {  \r\n  const [isLogin, setIsLogin] = useState(true);  \r\n  const [formData, setFormData] = useState({  \r\n    username: '',  \r\n    password: '',  \r\n    email: ''  \r\n  });  \r\n  const [error, setError] = useState('');  \r\n  const [loading, setLoading] = useState(false);  \r\n    \r\n  const { login, register } = useAuth();  \r\n  \r\n  const handleInputChange = (e) => {  \r\n    setFormData({  \r\n      ...formData,  \r\n      [e.target.name]: e.target.value  \r\n    });  \r\n    setError('');  \r\n  };  \r\n  \r\n  const handleSubmit = async (e) => {  \r\n    e.preventDefault();  \r\n    setLoading(true);  \r\n    setError('');  \r\n  \r\n    try {  \r\n      let result;  \r\n      if (isLogin) {  \r\n        result = await login(formData.username, formData.password);  \r\n      } else {  \r\n        result = await register(formData.username, formData.password, formData.email);  \r\n      }  \r\n  \r\n      if (!result.success) {  \r\n        setError(result.error);  \r\n      }  \r\n    } catch (err) {  \r\n      setError('Error de conexión. Intenta de nuevo.');  \r\n    } finally {  \r\n      setLoading(false);  \r\n    }  \r\n  };  \r\n  \r\n  const toggleMode = () => {  \r\n    setIsLogin(!isLogin);  \r\n    setError('');  \r\n    setFormData({  \r\n      username: '',  \r\n      password: '',  \r\n      email: ''  \r\n    });  \r\n  };  \r\n  \r\n  return (  \r\n    <div className=\"login-container\">  \r\n      <div className=\"login-card\">  \r\n        <div className=\"login-header\">  \r\n          <h1>🤖 Ron Assistant</h1>  \r\n          <h2>{isLogin ? 'Iniciar Sesión' : 'Crear Cuenta'}</h2>  \r\n        </div>  \r\n  \r\n        <form onSubmit={handleSubmit} className=\"login-form\">  \r\n          <div className=\"form-group\">  \r\n            <label htmlFor=\"username\">Usuario</label>  \r\n            <input  \r\n              type=\"text\"  \r\n              id=\"username\"  \r\n              name=\"username\"  \r\n              value={formData.username}  \r\n              onChange={handleInputChange}  \r\n              required  \r\n              placeholder=\"Ingresa tu usuario\"  \r\n            />  \r\n          </div>  \r\n  \r\n          {!isLogin && (  \r\n            <div className=\"form-group\">  \r\n              <label htmlFor=\"email\">Email</label>  \r\n              <input  \r\n                type=\"email\"  \r\n                id=\"email\"  \r\n                name=\"email\"  \r\n                value={formData.email}  \r\n                onChange={handleInputChange}  \r\n                required  \r\n                placeholder=\"tu@email.com\"  \r\n              />  \r\n            </div>  \r\n          )}  \r\n  \r\n          <div className=\"form-group\">  \r\n            <label htmlFor=\"password\">Contraseña</label>  \r\n            <input  \r\n              type=\"password\"  \r\n              id=\"password\"  \r\n              name=\"password\"  \r\n              value={formData.password}  \r\n              onChange={handleInputChange}  \r\n              required  \r\n              placeholder=\"Ingresa tu contraseña\"  \r\n            />  \r\n          </div>  \r\n  \r\n          {error && (  \r\n            <div className=\"error-message\">  \r\n              {error}  \r\n            </div>  \r\n          )}  \r\n  \r\n          <button   \r\n            type=\"submit\"   \r\n            className=\"login-button\"  \r\n            disabled={loading}  \r\n          >  \r\n            {loading ? 'Cargando...' : (isLogin ? 'Iniciar Sesión' : 'Crear Cuenta')}  \r\n          </button>  \r\n        </form>  \r\n  \r\n        <div className=\"login-footer\">  \r\n          <p>  \r\n            {isLogin ? '¿No tienes cuenta?' : '¿Ya tienes cuenta?'}  \r\n            <button   \r\n              type=\"button\"   \r\n              className=\"toggle-button\"  \r\n              onClick={toggleMode}  \r\n            >  \r\n              {isLogin ? 'Crear una' : 'Iniciar sesión'}  \r\n            </button>  \r\n          </p>  \r\n        </div>  \r\n      </div>  \r\n    </div>  \r\n  );  \r\n};  \r\n  \r\nexport default Login;"],"mappings":"4GAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,OAAO,KAAQ,wBAAwB,CAChD,MAAO,aAAa,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAErB,KAAM,CAAAC,KAAK,CAAGA,CAAA,GAAM,CAClB,KAAM,CAACC,OAAO,CAAEC,UAAU,CAAC,CAAGR,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACS,QAAQ,CAAEC,WAAW,CAAC,CAAGV,QAAQ,CAAC,CACvCW,QAAQ,CAAE,EAAE,CACZC,QAAQ,CAAE,EAAE,CACZC,KAAK,CAAE,EACT,CAAC,CAAC,CACF,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGf,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACgB,OAAO,CAAEC,UAAU,CAAC,CAAGjB,QAAQ,CAAC,KAAK,CAAC,CAE7C,KAAM,CAAEkB,KAAK,CAAEC,QAAS,CAAC,CAAGlB,OAAO,CAAC,CAAC,CAErC,KAAM,CAAAmB,iBAAiB,CAAIC,CAAC,EAAK,CAC/BX,WAAW,CAAAY,aAAA,CAAAA,aAAA,IACNb,QAAQ,MACX,CAACY,CAAC,CAACE,MAAM,CAACC,IAAI,EAAGH,CAAC,CAACE,MAAM,CAACE,KAAK,EAChC,CAAC,CACFV,QAAQ,CAAC,EAAE,CAAC,CACd,CAAC,CAED,KAAM,CAAAW,YAAY,CAAG,KAAO,CAAAL,CAAC,EAAK,CAChCA,CAAC,CAACM,cAAc,CAAC,CAAC,CAClBV,UAAU,CAAC,IAAI,CAAC,CAChBF,QAAQ,CAAC,EAAE,CAAC,CAEZ,GAAI,CACF,GAAI,CAAAa,MAAM,CACV,GAAIrB,OAAO,CAAE,CACXqB,MAAM,CAAG,KAAM,CAAAV,KAAK,CAACT,QAAQ,CAACE,QAAQ,CAAEF,QAAQ,CAACG,QAAQ,CAAC,CAC5D,CAAC,IAAM,CACLgB,MAAM,CAAG,KAAM,CAAAT,QAAQ,CAACV,QAAQ,CAACE,QAAQ,CAAEF,QAAQ,CAACG,QAAQ,CAAEH,QAAQ,CAACI,KAAK,CAAC,CAC/E,CAEA,GAAI,CAACe,MAAM,CAACC,OAAO,CAAE,CACnBd,QAAQ,CAACa,MAAM,CAACd,KAAK,CAAC,CACxB,CACF,CAAE,MAAOgB,GAAG,CAAE,CACZf,QAAQ,CAAC,sCAAsC,CAAC,CAClD,CAAC,OAAS,CACRE,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED,KAAM,CAAAc,UAAU,CAAGA,CAAA,GAAM,CACvBvB,UAAU,CAAC,CAACD,OAAO,CAAC,CACpBQ,QAAQ,CAAC,EAAE,CAAC,CACZL,WAAW,CAAC,CACVC,QAAQ,CAAE,EAAE,CACZC,QAAQ,CAAE,EAAE,CACZC,KAAK,CAAE,EACT,CAAC,CAAC,CACJ,CAAC,CAED,mBACEV,IAAA,QAAK6B,SAAS,CAAC,iBAAiB,CAAAC,QAAA,cAC9B5B,KAAA,QAAK2B,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzB5B,KAAA,QAAK2B,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3B9B,IAAA,OAAA8B,QAAA,CAAI,4BAAgB,CAAI,CAAC,cACzB9B,IAAA,OAAA8B,QAAA,CAAK1B,OAAO,CAAG,gBAAgB,CAAG,cAAc,CAAK,CAAC,EACnD,CAAC,cAENF,KAAA,SAAM6B,QAAQ,CAAER,YAAa,CAACM,SAAS,CAAC,YAAY,CAAAC,QAAA,eAClD5B,KAAA,QAAK2B,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzB9B,IAAA,UAAOgC,OAAO,CAAC,UAAU,CAAAF,QAAA,CAAC,SAAO,CAAO,CAAC,cACzC9B,IAAA,UACEiC,IAAI,CAAC,MAAM,CACXC,EAAE,CAAC,UAAU,CACbb,IAAI,CAAC,UAAU,CACfC,KAAK,CAAEhB,QAAQ,CAACE,QAAS,CACzB2B,QAAQ,CAAElB,iBAAkB,CAC5BmB,QAAQ,MACRC,WAAW,CAAC,oBAAoB,CACjC,CAAC,EACC,CAAC,CAEL,CAACjC,OAAO,eACPF,KAAA,QAAK2B,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzB9B,IAAA,UAAOgC,OAAO,CAAC,OAAO,CAAAF,QAAA,CAAC,OAAK,CAAO,CAAC,cACpC9B,IAAA,UACEiC,IAAI,CAAC,OAAO,CACZC,EAAE,CAAC,OAAO,CACVb,IAAI,CAAC,OAAO,CACZC,KAAK,CAAEhB,QAAQ,CAACI,KAAM,CACtByB,QAAQ,CAAElB,iBAAkB,CAC5BmB,QAAQ,MACRC,WAAW,CAAC,cAAc,CAC3B,CAAC,EACC,CACN,cAEDnC,KAAA,QAAK2B,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzB9B,IAAA,UAAOgC,OAAO,CAAC,UAAU,CAAAF,QAAA,CAAC,eAAU,CAAO,CAAC,cAC5C9B,IAAA,UACEiC,IAAI,CAAC,UAAU,CACfC,EAAE,CAAC,UAAU,CACbb,IAAI,CAAC,UAAU,CACfC,KAAK,CAAEhB,QAAQ,CAACG,QAAS,CACzB0B,QAAQ,CAAElB,iBAAkB,CAC5BmB,QAAQ,MACRC,WAAW,CAAC,0BAAuB,CACpC,CAAC,EACC,CAAC,CAEL1B,KAAK,eACJX,IAAA,QAAK6B,SAAS,CAAC,eAAe,CAAAC,QAAA,CAC3BnB,KAAK,CACH,CACN,cAEDX,IAAA,WACEiC,IAAI,CAAC,QAAQ,CACbJ,SAAS,CAAC,cAAc,CACxBS,QAAQ,CAAEzB,OAAQ,CAAAiB,QAAA,CAEjBjB,OAAO,CAAG,aAAa,CAAIT,OAAO,CAAG,gBAAgB,CAAG,cAAe,CAClE,CAAC,EACL,CAAC,cAEPJ,IAAA,QAAK6B,SAAS,CAAC,cAAc,CAAAC,QAAA,cAC3B5B,KAAA,MAAA4B,QAAA,EACG1B,OAAO,CAAG,oBAAoB,CAAG,oBAAoB,cACtDJ,IAAA,WACEiC,IAAI,CAAC,QAAQ,CACbJ,SAAS,CAAC,eAAe,CACzBU,OAAO,CAAEX,UAAW,CAAAE,QAAA,CAEnB1B,OAAO,CAAG,WAAW,CAAG,gBAAgB,CACnC,CAAC,EACR,CAAC,CACD,CAAC,EACH,CAAC,CACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAD,KAAK","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}